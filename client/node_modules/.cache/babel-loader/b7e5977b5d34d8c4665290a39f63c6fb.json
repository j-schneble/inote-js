{"ast":null,"code":"var _jsxFileName = \"/Users/jack/Desktop/Application-Project/client/src/components/notes/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { format } from 'timeago.js';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const [notes, setNotes] = useState([]);\n  const [token, setToken] = useState('');\n\n  const getNotes = async token => {\n    const res = await axios.get('api/notes', {\n      headers: {\n        Authorization: token\n      }\n    });\n    setNotes(res.data);\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('tokenStore');\n    setToken(token);\n\n    if (token) {\n      getNotes(token);\n    }\n  }, []);\n\n  const deleteNote = async id => {\n    try {\n      if (token) {\n        await axios.delete(`api/notes/${id}`, {\n          headers: {\n            Authorization: token\n          }\n        });\n        getNotes(token);\n      }\n    } catch (error) {\n      window.location.href = \"/\";\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"note-wrapper\",\n    children: notes.map(note => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        title: note.title,\n        children: note.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: note.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"date\",\n        children: format(note.date)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: [note.name, /*#__PURE__*/_jsxDEV(Link, {\n          to: `edit/${note._id}`,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"close\",\n        onClick: () => deleteNote(note._id),\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }, this)]\n    }, note._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Home, \"65xeynqWgN6cRasJ8U2jnaNf7n0=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/jack/Desktop/Application-Project/client/src/components/notes/Home.js"],"names":["React","useState","useEffect","Link","format","axios","Home","notes","setNotes","token","setToken","getNotes","res","get","headers","Authorization","data","localStorage","getItem","deleteNote","id","delete","error","window","location","href","map","note","title","content","date","name","_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,MAAR,QAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAC3B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMU,QAAQ,GAAG,MAAOF,KAAP,IAAgB;AAC7B,UAAMG,GAAG,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,WAAV,EAAuB;AACrCC,MAAAA,OAAO,EAAC;AAACC,QAAAA,aAAa,EAAEN;AAAhB;AAD6B,KAAvB,CAAlB;AAGAD,IAAAA,QAAQ,CAACI,GAAG,CAACI,IAAL,CAAR;AACH,GALD;;AAOAd,EAAAA,SAAS,CAAC,MAAK;AACX,UAAMO,KAAK,GAAGQ,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAd;AACAR,IAAAA,QAAQ,CAACD,KAAD,CAAR;;AACA,QAAGA,KAAH,EAAS;AACLE,MAAAA,QAAQ,CAACF,KAAD,CAAR;AACH;AACJ,GANQ,EAMN,EANM,CAAT;;AAQA,QAAMU,UAAU,GAAG,MAAOC,EAAP,IAAa;AAC5B,QAAI;AACA,UAAGX,KAAH,EAAS;AACL,cAAMJ,KAAK,CAACgB,MAAN,CAAc,aAAYD,EAAG,EAA7B,EAAgC;AAClCN,UAAAA,OAAO,EAAE;AAACC,YAAAA,aAAa,EAAEN;AAAhB;AADyB,SAAhC,CAAN;AAGAE,QAAAA,QAAQ,CAACF,KAAD,CAAR;AACH;AACJ,KAPD,CAOE,OAAOa,KAAP,EAAc;AACZC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACH;AACJ,GAXD;;AAaA,sBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,cAEQlB,KAAK,CAACmB,GAAN,CAAUC,IAAI,iBACV;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACI;AAAI,QAAA,KAAK,EAAEA,IAAI,CAACC,KAAhB;AAAA,kBAAwBD,IAAI,CAACC;AAA7B;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACI;AAAA,oBAAID,IAAI,CAACE;AAAT;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ,eAKI;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA,kBAAqBzB,MAAM,CAACuB,IAAI,CAACG,IAAN;AAA3B;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,mBACKH,IAAI,CAACI,IADV,eAEI,QAAC,IAAD;AAAM,UAAA,EAAE,EAAG,QAAOJ,IAAI,CAACK,GAAI,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,eAUI;AAAQ,QAAA,SAAS,EAAC,OAAlB;AACA,QAAA,OAAO,EAAE,MAAMb,UAAU,CAACQ,IAAI,CAACK,GAAN,CADzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ;AAAA,OAA2BL,IAAI,CAACK,GAAhC;AAAA;AAAA;AAAA;AAAA,YADJ;AAFR;AAAA;AAAA;AAAA;AAAA,UADJ;AAsBH;;GAtDuB1B,I;;KAAAA,I","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {format} from 'timeago.js'\nimport axios from 'axios'\n\nexport default function Home() {\n    const [notes, setNotes] = useState([])\n    const [token, setToken] = useState('')\n\n    const getNotes = async (token) =>{\n        const res = await axios.get('api/notes', {\n            headers:{Authorization: token}\n        })\n        setNotes(res.data)\n    }\n\n    useEffect(() =>{\n        const token = localStorage.getItem('tokenStore')\n        setToken(token)\n        if(token){\n            getNotes(token)\n        }\n    }, [])\n\n    const deleteNote = async (id) =>{\n        try {\n            if(token){\n                await axios.delete(`api/notes/${id}`, {\n                    headers: {Authorization: token}\n                })\n                getNotes(token)\n            }\n        } catch (error) {\n            window.location.href = \"/\";\n        }\n    }\n\n    return (\n        <div className=\"note-wrapper\">\n            {\n                notes.map(note =>(\n                    <div className=\"card\" key={note._id}>\n                        <h4 title={note.title}>{note.title}</h4>\n                        <div className=\"text-wrapper\">\n                            <p>{note.content}</p>\n                        </div>\n                        <p className=\"date\">{format(note.date)}</p>\n                        <div className=\"card-footer\">\n                            {note.name}\n                            <Link to={`edit/${note._id}`} >Edit</Link>\n                        </div>\n                        <button className=\"close\" \n                        onClick={() => deleteNote(note._id)} >X</button>\n                    </div>\n                ))\n            }\n            \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}